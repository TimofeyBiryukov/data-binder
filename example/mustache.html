<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mustache tests</title>
    
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css"/>
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/dist/data-binder.js"></script>
</head>
<body>
    <div class="case_1">
        <div class="one">
            {{one}}
        </div>
    
        <div class="two">
            {{two}}
        </div>

        {{test}}
    </div>

    ______________________ <br/>

    <div class="case_2">
        <div class="foo">
            {{foo}}
        </div>

        <div data-bind-repeat="data">
            {{bar}}
        </div>
    </div>

    ______________________ <br/>

    <div class="case_3">
        <h1>Welcome to {{title}}</h1>
        <div class="post" data-bind-repeat="posts">
            <h2 data-bind="title"></h2>
            <p data-bind="text"></p>
            <button data-bind-click="like">{{likeText}}</button>
        </div>
    </div>


    <script>
        new DataBinder({
            one: 'Bir',
            two: 'Eke'
        }, document.getElementsByClassName('case_1')[0]);

        new DataBinder({
            foo: 'FOO',
            data: [
                {
                    bar: 'BAR'
                },
                {
                    bar: 'BAR0'
                }
            ]

        }, document.getElementsByClassName('case_2'));


        var Post = function (title, text, id) {
            this.title = title;
            this.text = text;
            this.id = id;

            this.likeText = 'TNX fo the Like';
            this.like = function () {
                alert(this.likeText);
            }
        };

        var Page = function (title) {
            this.title = title;
            this.posts = [];

            for (var i = 0; i < 10; i++) {
                this.posts.push(new Post('Title ' + i, 'text ' + i, i));
            }
        };

        var homePage = new Page('Home Page');

        new DataBinder(homePage, document.getElementsByClassName('case_3'));

    </script>    
</body>
</html>